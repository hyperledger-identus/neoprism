<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>NeoPRISM Documentation</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">NeoPRISM Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="neoprism-documentation"><a class="header" href="#neoprism-documentation">NeoPRISM Documentation</a></h1>
<p>Welcome to the NeoPRISM documentation site!</p>
<p>Use the navigation panel on the left to browse different sections of the documentation, including guides, references, and community resources.</p>
<h2 id="community--support"><a class="header" href="#community--support">Community &amp; Support</a></h2>
<ul>
<li><a href="https://github.com/hyperledger-identus/neoprism">GitHub Repository</a></li>
<li><a href="https://github.com/hyperledger-identus/neoprism/issues">Issue Tracker</a></li>
<li><a href="https://discord.com/channels/905194001349627914/1230596020790886490">Discord Channel</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="neoprism-installation"><a class="header" href="#neoprism-installation">NeoPRISM Installation</a></h1>
<p>NeoPRISM can be installed and run using either Docker or Nix. Choose the method that best fits your environment.</p>
<ul>
<li><a href="installation/./docker.html">Docker installation</a>: Run NeoPRISM using Docker containers.</li>
<li><a href="installation/./nix.html">Nix installation</a>: Build and run NeoPRISM using Nix flakes.</li>
</ul>
<blockquote>
<p><strong>Note:</strong> During development and testing, NeoPRISM typically uses between 10–100 MB of memory. No special hardware requirements are expected.</p>
</blockquote>
<p>NeoPRISM also supports advanced deployment modes and Cardano data sources (such as DB Sync and testnet environments). For details on advanced configurations, see the relevant documentation pages.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="docker-installation"><a class="header" href="#docker-installation">Docker Installation</a></h1>
<p>This guide will help you install and run a NeoPRISM node using Docker.</p>
<h2 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h2>
<ul>
<li><strong>Docker</strong>: <a href="https://docs.docker.com/get-docker/">Install Docker</a></li>
<li><strong>Git</strong>: <a href="https://git-scm.com/downloads">Install Git</a></li>
</ul>
<h2 id="steps-mainnet-relay-example"><a class="header" href="#steps-mainnet-relay-example">Steps (Mainnet Relay Example)</a></h2>
<ol>
<li>
<p><strong>Clone the NeoPRISM repository:</strong></p>
<pre><code class="language-bash">git clone https://github.com/hyperledger-identus/neoprism.git
cd neoprism/docker/mainnet-relay
</code></pre>
</li>
<li>
<p><strong>Start NeoPRISM and PostgreSQL using Docker Compose:</strong></p>
<pre><code class="language-bash">docker-compose up
</code></pre>
</li>
<li>
<p><strong>Access the Web UI:</strong></p>
<ul>
<li>Open <a href="http://localhost:8080">http://localhost:8080</a> in your browser.</li>
</ul>
</li>
<li>
<p><strong>Resolve a DID using the API:</strong></p>
<pre><code class="language-bash">curl http://localhost:8080/api/dids/&lt;did&gt;
</code></pre>
</li>
</ol>
<hr />
<blockquote>
<p><strong>Note:</strong> The example above demonstrates one way to run NeoPRISM using Docker. You can find additional deployment examples and configurations in the <code>docker</code> directory of the repository.</p>
<p>If you are deploying NeoPRISM in a production environment, please take extra care to harden your setup according to your organization’s security requirements.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nix-installation"><a class="header" href="#nix-installation">Nix Installation</a></h1>
<p>NeoPRISM can be built and run using <a href="https://nixos.wiki/wiki/Flakes">Nix flakes</a>.</p>
<h2 id="prerequisites-1"><a class="header" href="#prerequisites-1">Prerequisites</a></h2>
<ul>
<li><strong>Nix</strong> with flake support enabled. See <a href="https://nixos.wiki/wiki/Flakes">Nix Flakes documentation</a> for setup instructions.</li>
<li><strong>Git</strong>: <a href="https://git-scm.com/downloads">Install Git</a></li>
</ul>
<h2 id="steps"><a class="header" href="#steps">Steps</a></h2>
<ol>
<li>
<p><strong>Build the NeoPRISM binary from the remote flake:</strong></p>
<pre><code class="language-bash">nix build github:hyperledger-identus/neoprism/&lt;TAG&gt;#neoprism-bin
</code></pre>
<ul>
<li>The resulting binary will be located in <code>./result/bin/neoprism-node</code>.</li>
</ul>
</li>
<li>
<p><strong>Build the UI assets from the remote flake (in a separate output directory):</strong></p>
<pre><code class="language-bash">nix build github:hyperledger-identus/neoprism/&lt;TAG&gt;#neoprism-ui-assets -o ./result-ui-assets
</code></pre>
<ul>
<li>The UI assets will be available in <code>./result-ui-assets</code>.</li>
</ul>
</li>
<li>
<p><strong>Run NeoPRISM and link the UI assets:</strong></p>
<ul>
<li>
<p>Use the <code>--assets-path</code> flag to specify the UI assets directory:</p>
<pre><code class="language-bash">./result/bin/neoprism-node indexer --assets-path ./result-ui-assets [options]
</code></pre>
</li>
<li>
<p>For details on available commands and options, see the CLI help:</p>
<pre><code class="language-bash">./result/bin/neoprism-node indexer --help
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Access the Web UI:</strong></p>
<ul>
<li>Open <a href="http://localhost:8080">http://localhost:8080</a> in your browser.</li>
</ul>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="neoprism-architecture"><a class="header" href="#neoprism-architecture">NeoPRISM Architecture</a></h1>
<p>NeoPRISM supports multiple roles within its system architecture:</p>
<ul>
<li><strong>Indexer</strong>: Reads, validates, and indexes DID operations from the Cardano blockchain.</li>
<li><strong>Submitter</strong>: Batches and submits signed DID operations to the Cardano blockchain.</li>
<li><strong>Standalone</strong>: Runs both indexer and submitter in a single process for simple deployments.</li>
</ul>
<p>NeoPRISM acts as an indexer by reading DID operations from the Cardano blockchain, validating them, and storing them in a local PostgreSQL database.
It organizes these operations using keys such as DIDs or storage hashes.
When a user requests the current state of a DID, NeoPRISM replays the relevant operations to reconstruct and return the latest state via its REST API.</p>
<p>In its role as a submitter, NeoPRISM receives signed DID operations and batches them into Cardano transaction metadata.
It does not manage private keys for either DID operations or Cardano wallets.
The metadata is sent to the wallet component (currently supporting only <code>cardano-wallet</code>) for publishing.
This process is stateless and requires the wallet passphrase, along with other related wallet configurations, which are provided through CLI options or environment variables.</p>
<h2 id="closed-loop-standalone-deployment"><a class="header" href="#closed-loop-standalone-deployment">Closed-loop standalone deployment</a></h2>
<p>In this mode, both the indexer and submitter run in the same process, which is suitable for a small and simple deployment setup.
You may also add a reverse proxy to handle authentication and routing for the submitter API paths.</p>
<h2 id="closed-loop-indexer---submitter-deployment"><a class="header" href="#closed-loop-indexer---submitter-deployment">Closed-loop indexer - submitter deployment</a></h2>
<p>In this deployment mode, the indexer and submitter run as separate processes, which may be hosted on different machines. This separation allows for independent scaling of each component; for example, multiple indexer instances can be deployed to support high read volume.</p>
<ul>
<li>The <strong>indexer</strong> process reads, validates, and indexes DID operations from the Cardano blockchain, storing them in a shared PostgreSQL database.</li>
<li>The <strong>submitter</strong> process is stateless and receives signed DID operations, batching and submitting them to the Cardano blockchain via the wallet component. It does not use the database.</li>
</ul>
<p>A reverse proxy is recommended to route requests to the appropriate service, handling authentication and API path routing for both the indexer and submitter.</p>
<h2 id="open-loop-indexer-only-and-submitter-only-deployments"><a class="header" href="#open-loop-indexer-only-and-submitter-only-deployments">Open-loop Indexer-only and Submitter-only deployments</a></h2>
<p>NeoPRISM also supports deploying only a subset of its components, depending on your use case and requirements:</p>
<ul>
<li>
<p><strong>Indexer-only deployment:</strong><br />
Only the indexer process is deployed. This setup allows you to read, validate, and index DID operations from the Cardano blockchain, and serve DID resolution requests via the REST API. No submission of new DID operations to the blockchain is possible in this mode.</p>
</li>
<li>
<p><strong>Submitter-only deployment:</strong><br />
Only the submitter process is deployed. This setup allows you to batch and submit signed DID operations to the Cardano blockchain via the wallet component. DID resolution and indexing are not available in this mode.</p>
</li>
</ul>
<p>These deployment options provide flexibility for scenarios where you may only need to resolve DIDs (indexer-only) or only need to submit new DID operations (submitter-only), without running the full NeoPRISM stack.</p>
<blockquote>
<p>Note: These modes are subsets of the closed-loop indexer–submitter deployment, and can be scaled or combined as needed.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuration"><a class="header" href="#configuration">Configuration</a></h1>
<p>NeoPRISM nodes offer flexible configuration to suit various deployment scenarios.</p>
<p>This section explains the key configuration options.<br />
For a complete list of available options, see <a href="configuration/../references/cli-options.html">CLI Options</a>.</p>
<p>To start NeoPRISM node in each mode, use one of the following subcommands:</p>
<pre><code>Usage: neoprism-node &lt;COMMAND&gt;

Commands:
  indexer           Start the node in indexer mode
  submitter         Start the node in submitter mode
  standalone        Start the node in standalone mode
  generate-openapi  Generate OpenAPI specification for the API
  help              Print this message or the help of the given subcommand(s)

Options:
  -h, --help     Print help
  -V, --version  Print version
</code></pre>
<p>The standalone mode combines both indexer and submitter functionalities.
You can refer to the configuration options for each mode and apply them together when using standalone.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="indexer-configuration"><a class="header" href="#indexer-configuration">Indexer Configuration</a></h2>
<p>The <strong>Indexer node</strong> monitors the Cardano blockchain for PRISM DID operations, validates and indexes them, and enables efficient lookup of DID Documents.<br />
It is typically used for DID resolution and verification services.</p>
<h3 id="dlt-source"><a class="header" href="#dlt-source">DLT Source</a></h3>
<p>The Indexer node supports multiple DLT sources for ingesting DID operations:</p>
<ul>
<li>
<p><strong>Oura:</strong><br />
Connects to a Cardano relay node and streams block data in real time.</p>
<ul>
<li>Key options:
<ul>
<li>Cardano network: <code>--cardano-network</code> or <code>NPRISM_CARDANO_NETWORK</code></li>
<li>Relay address: <code>--cardano-relay-addr</code> or <code>NPRISM_CARDANO_RELAY_ADDR</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>DB-Sync:</strong><br />
Connects to a Cardano DB-Sync instance and polls for new blocks and transactions.</p>
<ul>
<li>Key options:
<ul>
<li>DB-Sync URL: <code>--db-sync-url</code> or <code>NPRISM_DB_SYNC_URL</code></li>
<li>Poll interval: <code>--db-sync-poll-interval</code> or <code>NPRISM_DB_SYNC_POLL_INTERVAL</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Common DLT Source Options:</strong></p>
<ul>
<li>Index interval: <code>--index-interval</code> or <code>NPRISM_INDEX_INTERVAL</code></li>
<li>Confirmation blocks: <code>--confirmation-blocks</code> or <code>NPRISM_CONFIRMATION_BLOCKS</code></li>
</ul>
</li>
</ul>
<hr />
<h3 id="dlt-source-comparison"><a class="header" href="#dlt-source-comparison">DLT Source Comparison</a></h3>
<p><strong>Oura</strong></p>
<p>Oura works by performing a chainsync protocol with a Cardano relay node.
This setup is quite lean, as you can connect to any available public relay.
The downside is that sync progress can be slow, since it performs a full sync from the blockchain.
If possible, connect to a Cardano node close to your location, as syncing across different geographic regions can be very slow.
The initial sync may take multiple days. The best option is to connect to your own Cardano node within the same network for optimal performance.</p>
<p><strong>DB Sync</strong></p>
<p>DBSync is a service that syncs the Cardano blockchain and writes the data to a PostgreSQL database.
DBSync is known to be resource-heavy and requires significant disk space.
The advantage is that sync speed is very fast, since NeoPRISM only needs to read the database tables and parse the operations.
If you can afford to run DBSync, it is recommended to use this option, as the initial sync is much faster compared to Oura.</p>
<hr />
<h3 id="how-common-dlt-source-configuration-works"><a class="header" href="#how-common-dlt-source-configuration-works">How Common DLT Source Configuration Works</a></h3>
<p>NeoPRISM streams blocks from the Cardano blockchain and extracts PRISM metadata, which is then persisted to the database. These operations are initially stored as raw, unindexed data. At every configured interval (set by the index interval option), NeoPRISM wakes up and picks up unindexed operations from the database. It then runs the indexing logic, which extracts, validates, and transforms each raw operation into an efficient lookup data structure.</p>
<p>A faster index interval reduces the lag between when an operation is streamed and when it becomes indexed and available for fast lookup. However, setting a very short interval can put additional pressure on the database due to more frequent indexing cycles. NeoPRISM comes with a sensible default value for the index interval to balance performance and resource usage.</p>
<p>Choose the DLT source and interval settings that best fit your infrastructure and performance needs.</p>
<hr />
<p><strong>Next Steps:</strong></p>
<ul>
<li><a href="configuration/../references/cli-options.html">CLI Options</a>: Full list of flags and environment variables.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="submitter-configuration"><a class="header" href="#submitter-configuration">Submitter Configuration</a></h2>
<p>The <strong>Submitter node</strong> publishes PRISM DID operations to the Cardano blockchain.<br />
It is typically used for creating, updating, or deactivating DIDs.</p>
<h3 id="dlt-sink"><a class="header" href="#dlt-sink">DLT Sink</a></h3>
<p>The Submitter node currently supports Cardano wallet integration as its DLT sink:</p>
<ul>
<li><strong>Cardano Wallet:</strong><br />
Uses a Cardano wallet to sign and submit transactions containing DID operations.
<ul>
<li>Key options:
<ul>
<li>Wallet base URL: <code>--wallet-base-url</code> or <code>NPRISM_WALLET_BASE_URL</code></li>
<li>Wallet ID: <code>--wallet-id</code> or <code>NPRISM_WALLET_ID</code></li>
<li>Passphrase: <code>--wallet-passphrase</code> or <code>NPRISM_WALLET_PASSPHRASE</code></li>
<li>Payment address: <code>--payment-address</code> or <code>NPRISM_PAYMENT_ADDRESS</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Important:</strong>
When the submitter publishes a DID operation, it creates a transaction from the configured wallet to the specified payment address.<br />
Make sure you use your own payment address. Using an incorrect or third-party address may result in permanent loss of funds.</p>
</blockquote>
<p>Configure the wallet integration to match your operational and security requirements.</p>
<hr />
<p><strong>Next Steps:</strong></p>
<ul>
<li><a href="configuration/../references/cli-options.html">CLI Options</a>: Full list of flags and environment variables.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cli-options"><a class="header" href="#cli-options">CLI Options</a></h1>
<h2 id="commands"><a class="header" href="#commands">Commands</a></h2>
<pre><code>Usage: neoprism-node &lt;COMMAND&gt;

Commands:
  indexer           Start the node in indexer mode
  submitter         Start the node in submitter mode
  standalone        Start the node in standalone mode
  generate-openapi  Generate OpenAPI specification for the API
  help              Print this message or the help of the given subcommand(s)

Options:
  -h, --help     Print help
  -V, --version  Print version
</code></pre>
<h2 id="indexer-options"><a class="header" href="#indexer-options">Indexer options</a></h2>
<pre><code>Start the node in indexer mode

Usage: neoprism-node indexer [OPTIONS] --db-url &lt;DB_URL&gt; --cardano-network &lt;CARDANO_NETWORK&gt;

Options:
      --address &lt;ADDRESS&gt;
          Node HTTP server binding address [env: NPRISM_ADDRESS=] [default: 0.0.0.0]
  -p, --port &lt;PORT&gt;
          Node HTTP server listening port [env: NPRISM_PORT=] [default: 8080]
      --assets-path &lt;ASSETS_PATH&gt;
          The directory containing the web-ui assets (CSS, Javascripts) [env: NPRISM_ASSETS_PATH=] [default: ./bin/neoprism-node/assets]
      --cors-enabled
          Enable permissive CORS (https://docs.rs/tower-http/latest/tower_http/cors/struct.CorsLayer.html#method.permissive) [env: NPRISM_CORS_ENABLED=]
      --db-url &lt;DB_URL&gt;
          Database URL (e.g. postgres://user:pass@host:5432/db) [env: NPRISM_DB_URL=]
      --skip-migration
          Skip database migration on Node startup [env: NPRISM_SKIP_MIGRATION=]
      --cardano-network &lt;CARDANO_NETWORK&gt;
          A Cardano network the node is syncing from [env: NPRISM_CARDANO_NETWORK=] [possible values: mainnet, preprod, preview]
      --cardano-relay-addr &lt;CARDANO_RELAY_ADDR&gt;
          Address of the Cardano relay node to sync from. If provided, it will sync events from the Cardano relay node. (e.g. backbone.mainnet.cardanofoundation.org:3001) [env: NPRISM_CARDANO_RELAY_ADDR=]
      --cardano-dbsync-url &lt;CARDANO_DBSYNC_URL&gt;
          DB-Sync url. If provided, it will sync events from the DB sync. (e.g. postgres://user:pass@host:5432/db) [env: NPRISM_CARDANO_DBSYNC_URL=]
      --cardano-dbsync-poll-interval &lt;CARDANO_DBSYNC_POLL_INTERVAL&gt;
          Number of sesconds to wait before polling DB Sync for next update [env: NPRISM_CARDANO_DBSYNC_POLL_INTERVAL=] [default: 10]
      --index-interval &lt;INDEX_INTERVAL&gt;
          Number of seconds to wait before checking for unindexed operations [env: NPRISM_INDEX_INTERVAL=] [default: 10]
      --confirmation-blocks &lt;CONFIRMATION_BLOCKS&gt;
          Number of confirmation blocks to wait before considering the block valid [env: NPRISM_CONFIRMATION_BLOCKS=] [default: 112]
  -h, --help
          Print help
</code></pre>
<h2 id="submitter-options"><a class="header" href="#submitter-options">Submitter options</a></h2>
<pre><code>Start the node in submitter mode

Usage: neoprism-node submitter [OPTIONS] --db-url &lt;DB_URL&gt; --cardano-wallet-base-url &lt;CARDANO_WALLET_BASE_URL&gt; --cardano-wallet-wallet-id &lt;CARDANO_WALLET_WALLET_ID&gt; --cardano-wallet-passphrase &lt;CARDANO_WALLET_PASSPHRASE&gt; --cardano-wallet-payment-addr &lt;CARDANO_WALLET_PAYMENT_ADDR&gt;

Options:
      --address &lt;ADDRESS&gt;
          Node HTTP server binding address [env: NPRISM_ADDRESS=] [default: 0.0.0.0]
  -p, --port &lt;PORT&gt;
          Node HTTP server listening port [env: NPRISM_PORT=] [default: 8080]
      --assets-path &lt;ASSETS_PATH&gt;
          The directory containing the web-ui assets (CSS, Javascripts) [env: NPRISM_ASSETS_PATH=] [default: ./bin/neoprism-node/assets]
      --cors-enabled
          Enable permissive CORS (https://docs.rs/tower-http/latest/tower_http/cors/struct.CorsLayer.html#method.permissive) [env: NPRISM_CORS_ENABLED=]
      --db-url &lt;DB_URL&gt;
          Database URL (e.g. postgres://user:pass@host:5432/db) [env: NPRISM_DB_URL=]
      --skip-migration
          Skip database migration on Node startup [env: NPRISM_SKIP_MIGRATION=]
      --cardano-wallet-base-url &lt;CARDANO_WALLET_BASE_URL&gt;
          Base url of cardano wallet [env: NPRISM_CARDANO_WALLET_BASE_URL=]
      --cardano-wallet-wallet-id &lt;CARDANO_WALLET_WALLET_ID&gt;
          Wallet ID to use for making transaction [env: NPRISM_CARDANO_WALLET_WALLET_ID=]
      --cardano-wallet-passphrase &lt;CARDANO_WALLET_PASSPHRASE&gt;
          Passphrase for the wallet [env: NPRISM_CARDANO_WALLET_PASSPHRASE=]
      --cardano-wallet-payment-addr &lt;CARDANO_WALLET_PAYMENT_ADDR&gt;
          Payment address for making transaction [env: NPRISM_CARDANO_WALLET_PAYMENT_ADDR=]
  -h, --help
          Print help
</code></pre>
<h2 id="standalone-options"><a class="header" href="#standalone-options">Standalone options</a></h2>
<pre><code>Start the node in standalone mode

Usage: neoprism-node standalone [OPTIONS] --db-url &lt;DB_URL&gt; --cardano-network &lt;CARDANO_NETWORK&gt; --cardano-wallet-base-url &lt;CARDANO_WALLET_BASE_URL&gt; --cardano-wallet-wallet-id &lt;CARDANO_WALLET_WALLET_ID&gt; --cardano-wallet-passphrase &lt;CARDANO_WALLET_PASSPHRASE&gt; --cardano-wallet-payment-addr &lt;CARDANO_WALLET_PAYMENT_ADDR&gt;

Options:
      --address &lt;ADDRESS&gt;
          Node HTTP server binding address [env: NPRISM_ADDRESS=] [default: 0.0.0.0]
  -p, --port &lt;PORT&gt;
          Node HTTP server listening port [env: NPRISM_PORT=] [default: 8080]
      --assets-path &lt;ASSETS_PATH&gt;
          The directory containing the web-ui assets (CSS, Javascripts) [env: NPRISM_ASSETS_PATH=] [default: ./bin/neoprism-node/assets]
      --cors-enabled
          Enable permissive CORS (https://docs.rs/tower-http/latest/tower_http/cors/struct.CorsLayer.html#method.permissive) [env: NPRISM_CORS_ENABLED=]
      --db-url &lt;DB_URL&gt;
          Database URL (e.g. postgres://user:pass@host:5432/db) [env: NPRISM_DB_URL=]
      --skip-migration
          Skip database migration on Node startup [env: NPRISM_SKIP_MIGRATION=]
      --cardano-network &lt;CARDANO_NETWORK&gt;
          A Cardano network the node is syncing from [env: NPRISM_CARDANO_NETWORK=] [possible values: mainnet, preprod, preview]
      --cardano-relay-addr &lt;CARDANO_RELAY_ADDR&gt;
          Address of the Cardano relay node to sync from. If provided, it will sync events from the Cardano relay node. (e.g. backbone.mainnet.cardanofoundation.org:3001) [env: NPRISM_CARDANO_RELAY_ADDR=]
      --cardano-dbsync-url &lt;CARDANO_DBSYNC_URL&gt;
          DB-Sync url. If provided, it will sync events from the DB sync. (e.g. postgres://user:pass@host:5432/db) [env: NPRISM_CARDANO_DBSYNC_URL=]
      --cardano-dbsync-poll-interval &lt;CARDANO_DBSYNC_POLL_INTERVAL&gt;
          Number of sesconds to wait before polling DB Sync for next update [env: NPRISM_CARDANO_DBSYNC_POLL_INTERVAL=] [default: 10]
      --index-interval &lt;INDEX_INTERVAL&gt;
          Number of seconds to wait before checking for unindexed operations [env: NPRISM_INDEX_INTERVAL=] [default: 10]
      --confirmation-blocks &lt;CONFIRMATION_BLOCKS&gt;
          Number of confirmation blocks to wait before considering the block valid [env: NPRISM_CONFIRMATION_BLOCKS=] [default: 112]
      --cardano-wallet-base-url &lt;CARDANO_WALLET_BASE_URL&gt;
          Base url of cardano wallet [env: NPRISM_CARDANO_WALLET_BASE_URL=]
      --cardano-wallet-wallet-id &lt;CARDANO_WALLET_WALLET_ID&gt;
          Wallet ID to use for making transaction [env: NPRISM_CARDANO_WALLET_WALLET_ID=]
      --cardano-wallet-passphrase &lt;CARDANO_WALLET_PASSPHRASE&gt;
          Passphrase for the wallet [env: NPRISM_CARDANO_WALLET_PASSPHRASE=]
      --cardano-wallet-payment-addr &lt;CARDANO_WALLET_PAYMENT_ADDR&gt;
          Payment address for making transaction [env: NPRISM_CARDANO_WALLET_PAYMENT_ADDR=]
  -h, --help
          Print help
</code></pre>
<h2 id="generate-openapi-options"><a class="header" href="#generate-openapi-options">Generate OpenAPI options</a></h2>
<pre><code>Generate OpenAPI specification for the API

Usage: neoprism-node generate-openapi [OPTIONS]

Options:
      --output &lt;OUTPUT&gt;  Output file for the OpenAPI spec (stdout if not provided)
  -h, --help             Print help
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="openapi-specification"><a class="header" href="#openapi-specification">OpenAPI specification</a></h1>
<pre><code class="language-yaml">openapi: 3.1.0
info:
  title: neoprism-node
  description: ""
  license:
    name: ""
  version: 0.3.1
servers:
  - url: http://localhost:8080
    description: Local
  - url: https://neoprism.patlo.dev
    description: Public - mainnet
  - url: https://neoprism-preprod.patlo.dev
    description: Public - preprod
paths:
  /api/_system/health:
    get:
      tags:
        - System
      operationId: health
      responses:
        "200":
          description: Healthy
          content:
            text/plain:
              schema:
                type: string
              example: Ok
  /api/_system/metadata:
    get:
      tags:
        - System
      operationId: app_meta
      responses:
        "200":
          description: Healthy
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppMeta'
  /api/did-data/{did}:
    get:
      tags:
        - PRISM indexer
      summary: Adapter for returning DIDData protobuf message
      operationId: did_data
      parameters:
        - name: did
          in: path
          description: The DID to resolve
          required: true
          schema:
            $ref: '#/components/schemas/Did'
      responses:
        "200":
          description: DIDData proto message in hexacedimal format
          content:
            text/plain:
              schema:
                type: string
        "400":
          description: Invalid DID
        "404":
          description: DID not found
        "500":
          description: Internal server error
  /api/dids/{did}:
    get:
      tags:
        - PRISM indexer
      summary: W3C DID resolution endpoint
      operationId: resolve_did
      parameters:
        - name: did
          in: path
          description: The DID to resolve
          required: true
          schema:
            $ref: '#/components/schemas/Did'
      responses:
        "200":
          description: Resolve DID successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DidDocument'
        "400":
          description: Invalid DID
        "404":
          description: DID not found
        "500":
          description: Internal server error
  /api/indexer-stats:
    get:
      tags:
        - PRISM indexer
      operationId: indexer_stats
      responses:
        "200":
          description: DIDData proto message in hexacedimal format
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IndexerStats'
  /api/signed-operation-submissions:
    post:
      tags:
        - PRISM submitter
      operationId: submit_signed_operations
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SignedOperationSubmissionRequest'
        required: true
      responses:
        "200":
          description: Operations submitted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SignedOperationSubmissionResponse'
components:
  schemas:
    AppMeta:
      type: object
      required:
        - version
        - mode
      properties:
        mode:
          $ref: '#/components/schemas/AppMetaRunMode'
        version:
          type: string
    AppMetaRunMode:
      type: string
      enum:
        - Indexer
        - Submitter
        - Standalone
    Base64UrlStrNoPad:
      type: string
      description: |-
        # Example
        ```
        use identus_apollo::base64::Base64UrlStrNoPad;

        let b = b"hello world";
        let b64 = Base64UrlStrNoPad::from(b);
        assert!(b64.to_string() == "aGVsbG8gd29ybGQ");
        ```
    BlockNo:
      type: integer
      format: int64
      example: 42
      minimum: 0
    Did:
      type: string
      example: did:example:123456789abcdefghi
    DidDocument:
      type: object
      required:
        - context
        - id
        - verificationMethod
      properties:
        assertionMethod:
          type:
            - array
            - "null"
          items:
            $ref: '#/components/schemas/VerificationMethodOrRef'
        authentication:
          type:
            - array
            - "null"
          items:
            $ref: '#/components/schemas/VerificationMethodOrRef'
        capabilityDelegation:
          type:
            - array
            - "null"
          items:
            $ref: '#/components/schemas/VerificationMethodOrRef'
        capabilityInvocation:
          type:
            - array
            - "null"
          items:
            $ref: '#/components/schemas/VerificationMethodOrRef'
        context:
          type: array
          items:
            type: string
        id:
          $ref: '#/components/schemas/Did'
        keyAgreement:
          type:
            - array
            - "null"
          items:
            $ref: '#/components/schemas/VerificationMethodOrRef'
        service:
          type:
            - array
            - "null"
          items:
            $ref: '#/components/schemas/Service'
        verificationMethod:
          type: array
          items:
            $ref: '#/components/schemas/VerificationMethod'
    IndexerStats:
      type: object
      properties:
        last_prism_block_number:
          oneOf:
            - type: "null"
            - $ref: '#/components/schemas/BlockNo'
        last_prism_slot_number:
          oneOf:
            - type: "null"
            - $ref: '#/components/schemas/SlotNo'
    Jwk:
      type: object
      required:
        - kty
        - crv
      properties:
        crv:
          type: string
        kty:
          type: string
        x:
          oneOf:
            - type: "null"
            - $ref: '#/components/schemas/Base64UrlStrNoPad'
        "y":
          oneOf:
            - type: "null"
            - $ref: '#/components/schemas/Base64UrlStrNoPad'
    Service:
      type: object
      required:
        - id
        - type
        - serviceEndpoint
      properties:
        id:
          type: string
        serviceEndpoint:
          $ref: '#/components/schemas/ServiceEndpoint'
        type:
          $ref: '#/components/schemas/ServiceType'
    ServiceEndpoint:
      oneOf:
        - $ref: '#/components/schemas/StringOrMap'
        - type: array
          items:
            $ref: '#/components/schemas/StringOrMap'
    ServiceType:
      oneOf:
        - type: string
        - type: array
          items:
            type: string
    SignedOperationSubmissionRequest:
      type: object
      required:
        - signed_operations
      properties:
        signed_operations:
          type: array
          items:
            $ref: '#/components/schemas/SignedPrismOperationHexStr'
    SignedOperationSubmissionResponse:
      type: object
      required:
        - tx_id
      properties:
        tx_id:
          $ref: '#/components/schemas/TxId'
    SignedPrismOperationHexStr:
      type: string
      description: A hexadecimal string representing a SignedPrismOperation
      example: 0a086d61737465722d30124630440220442eec28ec60464acd8df155e73f88a1c7faf4549975582ff0601449525aba31022019257250071818066b377b83a8b1765df1b7dc21d9bccfc7d5da036801d3ba0e1a420a400a3e123c0a086d61737465722d3010014a2e0a09736563703235366b3112210398e61c14328a6a844eec6dc084b825ae8525f10204e9244aaf61260bd221a457
    SlotNo:
      type: integer
      format: int64
      example: 8086
      minimum: 0
    StringOrMap:
      oneOf:
        - type: string
        - type: object
          additionalProperties: {}
          propertyNames:
            type: string
    TxId:
      type: string
      example: 5ab0cf7e4c7cd4b63ba84a4fe299409be12ba85607cb6d1a149e80bc2eac070d
    VerificationMethod:
      type: object
      required:
        - id
        - type
        - controller
      properties:
        controller:
          type: string
        id:
          type: string
        publicKeyJwk:
          oneOf:
            - type: "null"
            - $ref: '#/components/schemas/Jwk'
        type:
          type: string
    VerificationMethodOrRef:
      oneOf:
        - $ref: '#/components/schemas/VerificationMethod'
        - type: string
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
